<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GramaticGame - Jogo de Gram√°tica</title>
    <style>
        * {
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f5f5;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: linear-gradient(135deg, #6e8efb, #a777e3);
        }
        
        .container {
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            width: 90%;
            max-width: 800px;
            padding: 30px;
            text-align: center;
            transition: all 0.3s ease;
        }
        
        h1 {
            color: #4a4a4a;
            margin-bottom: 20px;
        }
        
        .game-screen {
            display: none;
        }
        
        .btn {
            background-color: #6e8efb;
            color: white;
            border: none;
            padding: 12px 25px;
            margin: 10px 5px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s;
        }
        
        .btn:hover {
            background-color: #5a7df4;
            transform: translateY(-2px);
        }
        
        .btn-difficulty {
            width: 150px;
        }
        
        .btn-option {
            display: block;
            width: 100%;
            margin: 10px 0;
            text-align: left;
            padding: 15px;
            background-color: #f0f0f0;
            color: #333;
            border: 2px solid #ddd;
            border-radius: 5px;
            transition: all 0.2s;
        }
        
        .btn-option:hover {
            background-color: #e0e0e0;
            border-color: #aaa;
        }
        
        .question-container {
            margin: 30px 0;
        }
        
        .question {
            font-size: 20px;
            margin-bottom: 20px;
            color: #333;
        }
        
        .feedback {
            margin: 20px 0;
            font-weight: bold;
            min-height: 24px;
        }
        
        .correct {
            color: #28a745;
        }
        
        .incorrect {
            color: #dc3545;
        }
        
        .score-container {
            font-size: 18px;
            margin: 20px 0;
        }
        
        .progress-container {
            width: 100%;
            background-color: #e0e0e0;
            border-radius: 5px;
            margin: 20px 0;
        }
        
        .progress-bar {
            height: 10px;
            background-color: #6e8efb;
            border-radius: 5px;
            width: 0%;
            transition: width 0.3s;
        }
        
        .result-screen {
            display: none;
        }
        
        .result-message {
            font-size: 24px;
            margin: 20px 0;
        }
        
        .trophy {
            font-size: 60px;
            margin: 20px 0;
        }
        
        .gold {
            color: gold;
        }
        
        .silver {
            color: silver;
        }
        
        .bronze {
            color: #cd7f32;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Tela Inicial -->
        <div id="start-screen">
            <h1>GramaticGame</h1>
            <p>Teste seus conhecimentos de gram√°tica portuguesa e melhore suas habilidades!</p>
            <p>Escolha o n√≠vel de dificuldade:</p>
            <button class="btn btn-difficulty" data-difficulty="easy">F√°cil</button>
            <button class="btn btn-difficulty" data-difficulty="medium">M√©dio</button>
            <button class="btn btn-difficulty" data-difficulty="hard">Dif√≠cil</button>
        </div>
        
        <!-- Tela do Jogo -->
        <div id="game-screen" class="game-screen">
            <div class="score-container">
                Pontua√ß√£o: <span id="score">0</span>
            </div>
            <div class="progress-container">
                <div class="progress-bar" id="progress-bar"></div>
            </div>
            <div class="question-container">
                <div class="question" id="question"></div>
                <div id="options-container"></div>
            </div>
            <div class="feedback" id="feedback"></div>
            <button class="btn" id="next-btn" style="display: none;">Pr√≥xima Pergunta</button>
        </div>
        
        <!-- Tela de Resultados -->
        <div id="result-screen" class="game-screen result-screen">
            <h1>Resultado Final</h1>
            <div class="trophy" id="trophy">üèÜ</div>
            <div class="result-message" id="result-message"></div>
            <p>Voc√™ acertou <span id="final-score">0</span> de <span id="total-questions">0</span> perguntas!</p>
            <button class="btn" id="restart-btn">Jogar Novamente</button>
        </div>
    </div>

    <script>
        // Vari√°veis do jogo
        let currentDifficulty = '';
        let questions = [];
        let currentQuestionIndex = 0;
        let score = 0;
        let selectedOption = null;
        
        // Elementos do DOM
        const startScreen = document.getElementById('start-screen');
        const gameScreen = document.getElementById('game-screen');
        const resultScreen = document.getElementById('result-screen');
        const questionElement = document.getElementById('question');
        const optionsContainer = document.getElementById('options-container');
        const feedbackElement = document.getElementById('feedback');
        const nextButton = document.getElementById('next-btn');
        const scoreElement = document.getElementById('score');
        const progressBar = document.getElementById('progress-bar');
        const finalScoreElement = document.getElementById('final-score');
        const totalQuestionsElement = document.getElementById('total-questions');
        const resultMessageElement = document.getElementById('result-message');
        const trophyElement = document.getElementById('trophy');
        const restartButton = document.getElementById('restart-btn');
        
        // Banco de perguntas por n√≠vel de dificuldade
        const questionsDatabase = {
            easy: [
                {
                    question: "Qual √© o plural de 'casa'?",
                    options: ["Casas", "Casa", "Cazes", "Casais"],
                    answer: 0
                },
                {
                    question: "Qual destas palavras √© um artigo definido?",
                    options: ["Um", "Uns", "O", "Alguns"],
                    answer: 2
                },
                {
                    question: "Complete a frase: 'Eu ____ para escola todos os dias.'",
                    options: ["irei", "v√£o", "vamos", "vou"],
                    answer: 3
                },
                {
                    question: "Qual destas palavras √© um substantivo?",
                    options: ["Correr", "Bonito", "Cachorro", "Rapidamente"],
                    answer: 2
                },
                {
                    question: "Qual √© o feminino de 'menino'?",
                    options: ["Menina", "Menino", "Meninos", "Meninaz"],
                    answer: 0
                }
            ],
            medium: [
                {
                    question: "Qual destas frases est√° na voz passiva?",
                    options: [
                        "O professor corrigiu as provas.",
                        "As provas foram corrigidas pelo professor.",
                        "O professor est√° corrigindo as provas.",
                        "O professor vai corrigir as provas."
                    ],
                    answer: 1
                },
                {
                    question: "Qual destas palavras √© um adv√©rbio?",
                    options: ["Coragem", "Rapidamente", "Feliz", "Casa"],
                    answer: 1
                },
                {
                    question: "Identifique o sujeito na frase: 'Os alunos estudaram para a prova.'",
                    options: ["estudaram", "para a prova", "Os alunos", "n√£o h√° sujeito"],
                    answer: 2
                },
                {
                    question: "Qual destas palavras √© ox√≠tona?",
                    options: ["casa", "√°rvore", "caderno", "sof√°"],
                    answer: 3
                },
                {
                    question: "Qual √© a classifica√ß√£o morfol√≥gica da palavra 'que' na frase: 'O livro que comprei √© interessante.'?",
                    options: ["Pronome relativo", "Conjun√ß√£o", "Adv√©rbio", "Preposi√ß√£o"],
                    answer: 0
                }
            ],
            hard: [
                {
                    question: "Qual destas frases cont√©m um pleonasmo?",
                    options: [
                        "Subir para cima √© mais f√°cil que descer para baixo.",
                        "O sol brilha intensamente no ver√£o.",
                        "A crian√ßa pequena chorou muito.",
                        "O livro interessante foi lido rapidamente."
                    ],
                    answer: 0
                },
                {
                    question: "Qual destas constru√ß√µes apresenta uma crase incorreta?",
                    options: [
                        "Vou √† escola.",
                        "Refiro-me √†quele assunto.",
                        "Falou √† respeito do caso.",
                        "Entreguei o documento √† secret√°ria."
                    ],
                    answer: 2
                },
                {
                    question: "Qual destas frases apresenta um erro de concord√¢ncia verbal?",
                    options: [
                        "Faz dois anos que n√£o o vejo.",
                        "Houveram muitos problemas na reuni√£o.",
                        "Deve haver v√°rias solu√ß√µes para esse caso.",
                        "Existem muitas pessoas esperando."
                    ],
                    answer: 1
                },
                {
                    question: "Qual destas frases cont√©m um erro de reg√™ncia verbal?",
                    options: [
                        "Aspiro ao cargo de diretor.",
                        "Prefiro mais o ver√£o que o inverno.",
                        "Visamos os objetivos tra√ßados.",
                        "Obedecemos √†s regras estabelecidas."
                    ],
                    answer: 1
                },
                {
                    question: "Qual destas frases apresenta um erro de coloca√ß√£o pronominal?",
                    options: [
                        "N√£o se esque√ßa de trazer os documentos.",
                        "Enviar-lhe-ei o contrato amanh√£.",
                        "Se me permite, gostaria de fazer uma sugest√£o.",
                        "Vou te encontrar mais tarde."
                    ],
                    answer: 3
                }
            ]
        };
        
        // Event Listeners
        document.querySelectorAll('.btn-difficulty').forEach(button => {
            button.addEventListener('click', startGame);
        });
        
        nextButton.addEventListener('click', nextQuestion);
        restartButton.addEventListener('click', restartGame);
        
        // Fun√ß√µes do jogo
        function startGame(e) {
            currentDifficulty = e.target.dataset.difficulty;
            questions = [...questionsDatabase[currentDifficulty]];
            shuffleArray(questions); // Embaralha as perguntas
            score = 0;
            currentQuestionIndex = 0;
            
            startScreen.style.display = 'none';
            gameScreen.style.display = 'block';
            resultScreen.style.display = 'none';
            
            showQuestion();
        }
        
        function showQuestion() {
            resetState();
            const currentQuestion = questions[currentQuestionIndex];
            const questionNo = currentQuestionIndex + 1;
            const totalQuestions = questions.length;
            
            questionElement.innerHTML = `<span>${questionNo}/${totalQuestions}</span>. ${currentQuestion.question}`;
            
            currentQuestion.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.innerHTML = option;
                button.classList.add('btn-option');
                button.dataset.index = index;
                button.addEventListener('click', selectOption);
                optionsContainer.appendChild(button);
            });
            
            updateProgress();
        }
        
        function resetState() {
            feedbackElement.textContent = '';
            feedbackElement.className = 'feedback';
            nextButton.style.display = 'none';
            
            while (optionsContainer.firstChild) {
                optionsContainer.removeChild(optionsContainer.firstChild);
            }
        }
        
        function selectOption(e) {
            selectedOption = e.target;
            const selectedIndex = parseInt(selectedOption.dataset.index);
            const correctIndex = questions[currentQuestionIndex].answer;
            
            // Desabilita todas as op√ß√µes
            document.querySelectorAll('.btn-option').forEach(button => {
                button.disabled = true;
                button.style.cursor = 'not-allowed';
            });
            
            // Marca a op√ß√£o correta como verde
            document.querySelector(`.btn-option[data-index="${correctIndex}"]`).style.backgroundColor = '#d4edda';
            document.querySelector(`.btn-option[data-index="${correctIndex}"]`).style.borderColor = '#c3e6cb';
            
            if (selectedIndex === correctIndex) {
                selectedOption.style.backgroundColor = '#d4edda';
                selectedOption.style.borderColor = '#c3e6cb';
                feedbackElement.textContent = 'Resposta correta!';
                feedbackElement.className = 'feedback correct';
                score++;
                scoreElement.textContent = score;
            } else {
                selectedOption.style.backgroundColor = '#f8d7da';
                selectedOption.style.borderColor = '#f5c6cb';
                feedbackElement.textContent = 'Resposta incorreta!';
                feedbackElement.className = 'feedback incorrect';
            }
            
            nextButton.style.display = 'block';
        }
        
        function nextQuestion() {
            currentQuestionIndex++;
            
            if (currentQuestionIndex < questions.length) {
                showQuestion();
            } else {
                showResults();
            }
        }
        
        function showResults() {
            gameScreen.style.display = 'none';
            resultScreen.style.display = 'block';
            
            finalScoreElement.textContent = score;
            totalQuestionsElement.textContent = questions.length;
            
            const percentage = (score / questions.length) * 100;
            
            if (percentage >= 80) {
                resultMessageElement.textContent = 'Excelente! Voc√™ domina a gram√°tica!';
                trophyElement.textContent = 'üèÜ';
                trophyElement.className = 'trophy gold';
            } else if (percentage >= 50) {
                resultMessageElement.textContent = 'Bom trabalho! Continue praticando!';
                trophyElement.textContent = 'ü•à';
                trophyElement.className = 'trophy silver';
            } else {
                resultMessageElement.textContent = 'Estude mais gram√°tica e tente novamente!';
                trophyElement.textContent = 'ü•â';
                trophyElement.className = 'trophy bronze';
            }
        }
        
        function restartGame() {
            resultScreen.style.display = 'none';
            startScreen.style.display = 'block';
        }
        
        function updateProgress() {
            const progress = ((currentQuestionIndex) / questions.length) * 100;
            progressBar.style.width = `${progress}%`;
        }
        
        // Fun√ß√£o para embaralhar array (Fisher-Yates algorithm)
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }
    </script>
</body>
</html>